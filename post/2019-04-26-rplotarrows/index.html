<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
    <meta http-equiv="content-language" content="zh-CN" />
    

    
    <meta name="viewport" content="width=device-width, initial-scale=0.5">
    

    
    <title>R画带箭头的坐标轴</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
    
    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css">

    <link rel="stylesheet" href="/css/stylesheet.css">
    <link rel="stylesheet" href="/css/home.css">

    
    
        <style type="text/css">
        body { background-color: #fbf6ec;}
        </style>
    
    
                
        
        
            <link rel="stylesheet" href="/css/main.css"/>
        




        
        
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/styles/github.min.css"  />
         
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/highlight.min.js"></script>
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/r.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/yaml.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/latex.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/matlab.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/mathematica.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/julia.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/julia-repl.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/powershell.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/bash.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/shell.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/languages/python.min.js"></script>
        
        <script>hljs.initHighlightingOnLoad();</script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
          
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
     
     
</head>


<body>
    <script>
        window.addEventListener("resize", resizeThrottler, false);

        var resizeTimeout;
        function resizeThrottler() {
        
        if ( !resizeTimeout ) {
            resizeTimeout = setTimeout(function() {
            resizeTimeout = null;
            actualResizeHandler();
        
            
            }, 66);
        }
        }
        actualResizeHandler()
        function actualResizeHandler() {
                if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent))
                {
                    document.body.classList.add('mobile');
                }else{
                    document.body.classList.remove('mobile');  
                }
    }</script>

    
      
      
            <nav class="navbar navbar-default navbar-static-top" style="opacity: .9" role="navigation">
        <div class="container-fluid">
            
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">

                    <span class="sr-only">Toggle navigation</span>
                    <span class="big-icon icon-bar"></span>
                    <span class="big-icon icon-bar"></span>
                    <span class="big-icon icon-bar"></span>

                </button>
                <a class="navbar-brand" href="/">zsc</a>
            </div>

            <div class="navbar-collapse collapse" id="bs-example-navbar-collapse-1" style="height: auto;">
                <ul class="nav navbar-nav navbar-right" style="font-size: 100%">
                    
                        
                            
                            <li class=""><a href="/about/">About</a></li>
                            
                            <li class=""><a href="/categories/">Categories</a></li>
                            
                            <li class=""><a href="/">Home</a></li>
                            
                            <li class=""><a href="/tags/">Tags</a></li>
                            
                            <li class=""><a href="/issue/">存在的问题</a></li>
                            
                        
                    
                </ul>
            </div>
        </div>
    </nav>










<div class="inner">
    



    <div class="blog-post">
        
                <div>
            <h2 align="center" id = "singe-h2">
                R画带箭头的坐标轴
                <time>
                    <br>
                    <span> 
                        <i class="fa fa-user-edit" style="color:#888;font-size: 80%;"></i>
                         
                    </span>
                    &nbsp 
                    <span>                 
                        <i class="fa fa-calendar-alt" style="color:#888;font-size: 80%;"></i>
                        2019-04-26 
                    </span>
                </time>
                
                
                <div>
                    <ul class="tags">
                        
                        <span>标签:</span>
                        <li><a class="link" href="/tags/r"> #r </a></li>
                        
                        <span> </span>
                        
                    </ul>
                    
                </div>
            </h2>
        </div>
    
        
        <section id="content">
            
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>

<div id="TOC">
<ul>
<li><a href="#r-语言画带箭头的坐标轴"><span class="toc-section-number">0.1</span> R 语言画带箭头的坐标轴</a>
<ul>
<li><a href="#方法一"><span class="toc-section-number">0.1.1</span> 方法一</a></li>
<li><a href="#方法二"><span class="toc-section-number">0.1.2</span> 方法二：</a></li>
<li><a href="#方法三"><span class="toc-section-number">0.1.3</span> 方法三</a></li>
</ul></li>
<li><a href="#基本函数画多折线图"><span class="toc-section-number">0.2</span> 基本函数画多折线图</a></li>
</ul>
</div>

<div id="r-语言画带箭头的坐标轴" class="section level2" number="0.1">
<h2><span class="header-section-number">0.1</span> R 语言画带箭头的坐标轴</h2>
<p>本质的方法：就是去掉原有的坐标轴，然后通过R的低等函数一步一步的画出坐标轴以及需要的曲线，以下是google到的几种方法：</p>
<div id="方法一" class="section level3" number="0.1.1">
<h3><span class="header-section-number">0.1.1</span> 方法一</h3>
<pre class="r"><code>##################  画带箭头的坐标轴
## estimate curve
x &lt;- seq(-1,1.5,0.1);
y &lt;- c(1.3,1.32,1.33,1.32,1.25,1.1,0.7,0.5,0.4,0.38,0.4,0.41,0.42,0.43,0.44,0.4,0.3,0.1,0,-0.05,-0.1,-0.15,-0.2,-0.24,-0.28,-0.3);
f &lt;- splinefun(x,y);

## calculate precise points along estimated curve
x &lt;- seq(-1,1.5,0.01);
y &lt;- f(x);

## precompute limits
xlim &lt;- c(min(x),max(x));
ylim &lt;- c(min(y)-0.4,max(y)+0.2);

## set global plot params
par(xaxs=&#39;i&#39;,yaxs=&#39;i&#39;,mar=c(1,1,3,3)+0.1); ## &quot;internal&quot; axis spacing, meaning no extended range, and slightly adjust margins

## draw plot
plot(NA,xlim=xlim,ylim=ylim,axes=F,ann=F); ## set plot bounds, no default ornaments
arrows(c(0,xlim[1]),c(ylim[1],0),c(0,xlim[2]),c(ylim[2],0),0.05); ## draw custom axes
mtext(&#39;y&#39;,3,1,at=0,las=1,cex=0.8,family=&#39;serif&#39;); ## y label
mtext(&#39;x&#39;,4,1,at=0,las=1,cex=0.8,family=&#39;serif&#39;); ## x label
lines(x,y,col=&#39;#aaaacc&#39;); ## draw line on top</code></pre>
<p><img src="/post/2019-04-26-Rplotarrows_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
</div>
<div id="方法二" class="section level3" number="0.1.2">
<h3><span class="header-section-number">0.1.2</span> 方法二：</h3>
<pre class="r"><code>##  Simulate your data:
x &lt;- seq(-1, 3, by=0.01)
y &lt;- 0.5*x - 0.3*x^2 + 0.4*x^3

##  Plot the polynomial function, removing axis ticks and bounding box,
##    as well as the axis labels:
plot(x, y, 
     type=&quot;l&quot;, 
     xaxt=&#39;n&#39;, yaxt=&#39;n&#39;, 
     bty=&#39;n&#39;, 
     xlab=&#39;&#39;, ylab=&#39;&#39;, 
     col=&quot;blue&quot;)# 画图

##  Next add in your axis arrows:
# 适当缩小坐标轴 
small = 0.9
arrows(min(x)*small, 0, max(x)*small, 0, lwd=1, length=0.15)
arrows(0, min(y)*small, 0, max(y)*small, lwd=1, length=0.15)</code></pre>
<p><img src="/post/2019-04-26-Rplotarrows_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="方法三" class="section level3" number="0.1.3">
<h3><span class="header-section-number">0.1.3</span> 方法三</h3>
<p>在方法二的基础上进行进一步修改</p>
<pre class="r"><code>##  Simulate your data:
x &lt;- seq(-1, 3, by=0.01)
y &lt;- 0.5*x - 0.3*x^2 + 0.4*x^3

##  Plot the polynomial function, removing axis ticks and bounding box,
##    as well as the axis labels:
plot(x, y, 
     type=&quot;l&quot;, 
     xaxt=&#39;n&#39;, yaxt=&#39;n&#39;, 
     bty=&#39;n&#39;, 
     xlab=&#39;&#39;, ylab=&#39;&#39;, 
     col=&quot;blue&quot;)# 画图

##  Next add in your axis arrows:
# 适当缩小坐标轴 
small = 0.9
arrows(min(x)*small, 0, max(x)*small, 0, lwd=1, length=0.15)
arrows(0, min(y)*small, 0, max(y)*small, lwd=1, length=0.15)
par(family=&#39;STKaiti&#39;)

text(max(x), (max(y) - min(y))*0.1,&#39;X轴&#39;)

text((max(x)-min(x))*0.1, max(y),&#39;Y轴&#39;)

# 画标度---x 标度
k1 =ceiling(range(x)[1]*small)
k2 = floor(range(x)[2] *small )
k = 0.5 #k为刻度
for (i in seq(k1,k2,k)) {
  n=10
  if(i == 0 ) next()
  lines(rep(i,n),seq(0,k*0.3,length.out = n),type = &quot;l&quot;)# 垂直X轴的直线长度
  
  text(i,-(max(x) - min(x) )*0.1,i)
  
}


# 画标度---y 标度
k1 =ceiling(range(y)[1]*small) 
k2 = floor(range(y)[2]*small)
k = 1
for (i in seq(k1,k2,k)) { # 坐标轴的间隔，以1为单位,k为刻度
  n=10
  if(i == 0 ) next()
  lines(seq(0,k*0.01,length.out = n),rep(i,n),type = &quot;l&quot;)
  text(-0.02*(max(x)-min(x) ),i,i)
}
## 画原点
text(-(max(x) - min(x))*0.03,-(max(y) - min(y))*0.03,&quot;O&quot;,cex=1.3)</code></pre>
<p><img src="/post/2019-04-26-Rplotarrows_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
</div>
<div id="基本函数画多折线图" class="section level2" number="0.2">
<h2><span class="header-section-number">0.2</span> 基本函数画多折线图</h2>
<pre class="r"><code>t = seq(1,10,length.out = 10000)
matplot(t,cbind(sin(t),cos(t)),type =&#39;b&#39;,pch = 19,cex = 0.1)</code></pre>
<p><img src="/post/2019-04-26-Rplotarrows_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>sessionInfo()
#&gt; R version 4.0.2 (2020-06-22)
#&gt; Platform: x86_64-apple-darwin17.0 (64-bit)
#&gt; Running under: macOS Mojave 10.14.5
#&gt; 
#&gt; Matrix products: default
#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
#&gt; 
#&gt; locale:
#&gt; [1] zh_CN.UTF-8/zh_CN.UTF-8/zh_CN.UTF-8/C/zh_CN.UTF-8/zh_CN.UTF-8
#&gt; 
#&gt; attached base packages:
#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     
#&gt; 
#&gt; loaded via a namespace (and not attached):
#&gt;  [1] compiler_4.0.2  magrittr_1.5    bookdown_0.20   tools_4.0.2    
#&gt;  [5] htmltools_0.5.0 yaml_2.2.1      stringi_1.4.6   rmarkdown_2.3  
#&gt;  [9] blogdown_0.20   knitr_1.29      stringr_1.4.0   digest_0.6.25  
#&gt; [13] xfun_0.17       rlang_0.4.7     evaluate_0.14</code></pre>
</div>

        </section>
    </div>
    <br>
    
    




<span id="/post/2019-04-26-rplotarrows/" class="leancloud_visitors" data-flag-title="R画带箭头的坐标轴">
  <span class="post-meta-item-text">文章总阅读量 </span>
  <span class="leancloud-visitors-count"><i class="leancloud-visitors-count"></i></span>次;
  <p></p>
</span>



    

    
    
    <button id="edit-button" class="icon-button" type="button" title="Fork and edit" aria-label="Fork and edit" aria-haspopup="true" aria-expanded="false" aria-controls="edit">
        <i class="fa fa-edit">编辑本文</i>
    </button>
    
    
    

    <br>
    <hr>
    <li style="float:left;list-style:none">
        
        <a class="previous" href="/post/2019-04-01plottwoaxis/"> 上一篇: R语言绘制双坐标图</a>
        
    </li>
    <li style="float:right;list-style:none">
        
        <a class="next" href="/post/2019-04-30-ellipsisparameter/"> 下一篇: 省略号参数— 可变长参数</a>
        
    </li>
     
    
    <script src="/js/copyCode.js"></script>
    <script src="/js/tooltips.js"></script>
    
   
    <script>
    [].slice.call(document.querySelectorAll('table')).forEach(function(el) {
        var wrapper = document.createElement('div');
        wrapper.className = 'table-area';
        el.parentNode.insertBefore(wrapper, el);
        el.parentNode.removeChild(el);
        wrapper.appendChild(el);
        $("table").wrap("<div class='table-area'></div>");
    })
    </script>

    
<br>
<hr>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111691389-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-111691389-1');
</script>




      
      
      

       
      
      
      <script>
              document.getElementById("edit-button").addEventListener("click", function () {
                  var editWindow = window.open("https:\/\/github.com\/zoushucai\/blogmmm/edit/master/content/post\/2019-04-26-Rplotarrows.html");
              });</script>
      
          




<script>
  function resizeIframe(obj) {
    obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
  } 
</script>



    </style>
    <script type="text/javascript">
    function showdiv(){
        document.getElementById("divtocTableOfContents").style.display="block";
        document.getElementById("strHref").innerHTML="目录收起-";
        document.getElementById('divTableOfContents').style.width="22%";
        document.getElementById('divTableOfContents').style.height="55%";
        document.getElementById('divTableOfContents').style.top="25%";
        document.getElementById('divTableOfContents').style.bottom="5%";
        document.getElementById("strHref").href="javascript:hidediv()";
    }
    function hidediv(){
        document.getElementById("divtocTableOfContents").style.display="none";
        document.getElementById("strHref").innerHTML="目录展开+";
        document.getElementById("strHref").href="javascript:showdiv()";
        document.getElementById('divTableOfContents').style.width="10%";
        document.getElementById('divTableOfContents').style.height="5%";
    }
    </script>
</body>

</html>
</div> 







    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/mathtex-script-type.min.js" integrity="sha384-LJ2FmexL77rmGm6SIpxq7y+XA6bkLzGZEgCywzKOZG/ws4va9fUVu2neMjvc3zdv" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
            delimiters: [
                            {left: "$$", right: "$$", display: true},
                            {left: "$", right: "$", display: false},
                            {left: "\\(", right: "\\)", display: false},
                            {left: "\\[", right: "\\]", display: true}
                        ]
            });
        });
    </script>













<br>
<div class="inner">
              
            
          
          
  
          
  
  <div id="vcomments"></div>
  
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'HfHPKPkLa0cBEDPcdBAHuqMv-gzGzoHsz',
        appKey: 'r5RJAasN8e0mB9sq6y9pEcX0',
        lang:'zh-CN',
        notify:  false , 
        verify:  false  ,
        avatar:'identicon', 
        placeholder: '说点什么吧...',
        visitor:  true 
    });
  </script>

</div>

<br>
<br>
<footer>
    <p style="float:right;margin-right: 5%;margin-top: 0%;">
        &copy; 2021 <a href="https://github.com/zoushucai">zsc</a>
      </p>
</footer>
<br>
<br>


